// Generated by CoffeeScript 1.6.3
(function() {
  require.config({
    baseUrl: '/static/js',
    paths: {
      'jQuery': '//dn-staticfile.qbox.me/jquery/2.0.3/jquery.min',
      'bootstrap': '//dn-staticfile.qbox.me/twitter-bootstrap/3.0.0/js/bootstrap.min',
      'angular': '//dn-catke.qbox.me/js/angular-1.2.0/angular.min',
      'angularResource': '//dn-catke.qbox.me/js/angular-1.2.0/angular-resource.min',
      'angularRoute': '//dn-catke.qbox.me/js/angular-1.2.0/angular-route.min',
      'angularMocks': '//dn-catke.qbox.me/js/angular-1.2.0/angular-mocks',
      'adminRoutes': '/admin/js/routes',
      'adminControllers': '/admin/js/controllers'
    },
    shim: {
      'angular': {
        'exports': 'angular'
      },
      'jQuery': {
        'exports': 'jQuery'
      },
      'bootstrap': {
        deps: ['jQuery']
      },
      'angularResource': {
        deps: ['angular']
      },
      'angularRoute': ['angular'],
      'angularMocks': {
        deps: ['angular'],
        'exports': 'angular.mock'
      }
    },
    priority: ["angular"]
  });

  require(['angular', 'admin/app', 'jQuery', 'adminRoutes'], function(angular, app, $) {
    'use strict';
    var $html;
    $(function() {
      var el;
      el = $('[admin-menu]');
      el.on('click', 'a[data-toggle], a[avatar]', function() {
        el.find('li.active').removeClass('active');
        return $(this).parent().addClass('active');
      });
      el.find('li.dropdown').each(function() {
        var self;
        self = $(this);
        if (self.find('li').length === 0) {
          return self.remove();
        }
      });
    });
    $html = angular.element(document.getElementsByTagName('html')[0]);
    return angular.element().ready(function() {
      $html.addClass('ng-app');
      return angular.bootstrap($html, [app['name']]);
    });
  });

  return;

}).call(this);
