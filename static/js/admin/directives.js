// Generated by CoffeeScript 1.6.3
(function() {
  define(['angular', 'admin/services', 'jQuery', 'bootstrap'], function(angular, services, $) {
    'use strict';
    angular.module('admin.directives', ['admin.services']).directive('appVersion', [
      'version', function(version) {
        return function(scope, element, attr) {
          return element.text(version);
        };
      }
    ]).directive('toolTip', [
      function() {
        return function(scope, element, attr) {
          var el, placement, tip, trigger, _ref, _ref1;
          tip = attr.toolTip;
          placement = (_ref = attr.placement) != null ? _ref : 'top';
          trigger = (_ref1 = attr.trigger) != null ? _ref1 : 'hover';
          el = $(element);
          return el.tooltip({
            placement: placement,
            trigger: trigger,
            title: tip
          });
        };
      }
    ]).directive('wtforms', [
      '$compile', '$timeout', function($compile, $timeout) {
        return function(scope, element, attr) {
          var el, formEl, modelName, submitAct, tpl, _ref, _ref1;
          modelName = (_ref = attr.wtforms) != null ? _ref : 'form';
          el = $(element);
          submitAct = (_ref1 = attr.submitAct) != null ? _ref1 : '';
          tpl = "                        <form method=\"post\" name=\"" + modelName + "\" ng-submit=\"" + submitAct + "\" class=\"form-horizontal\" role=\"form\">                            <div ng-repeat=\"field in " + modelName + "\">                                    <div ng-if=\"field.type == 'HiddenField'\">                                        <input type=\"hidden\" name=\"{{field.name}}\" ng-model=\"field.data\">                                    </div>                                    <div class=\"form-group\" ng-if=\"field.type == 'TextField'\">                                        <label for=\"wt-" + modelName + "-{{ field.name }}\" class=\"col-sm-2 control-label\">{{ field.label }}:</label>                                        <div class=\"col-sm-10\" ng-if=\"!field.disabled\">                                            <input id=\"wt-" + modelName + "-{{ field.name }}\" ng-if=\"field.required\" class=\"form-control\" type=\"text\" name=\"{{field.name}}\" ng-model=\"field.data\" required>                                            <input id=\"wt-" + modelName + "-{{ field.name }}\" ng-if=\"!field.required\" class=\"form-control\" type=\"text\" name=\"{{field.name}}\" ng-model=\"field.data\">                                            <p class=\"help-block\">{{ field.description }}</p>                                        </div>                                        <div class=\"col-sm-10\" ng-if=\"field.disabled\">                                            <input id=\"wt-" + modelName + "-{{ field.name }}\" class=\"form-control\" type=\"text\" name=\"{{field.name}}\" ng-model=\"field.data\" disabled>                                            <p class=\"help-block\">{{ field.description }}</p>                                        </div>                                    </div>                                    <div class=\"form-group\" ng-if=\"field.type == 'TextAreaField'\">                                        <label for=\"wt-" + modelName + "-{{ field.name }}\" class=\"col-sm-2 control-label\">{{ field.label }}:</label>                                        <div class=\"col-sm-10\" ng-if=\"!field.disabled\">                                            <textarea rows=\"3\" id=\"wt-" + modelName + "-{{ field.name }}\" ng-if=\"field.required\" class=\"form-control\" type=\"text\" name=\"{{field.name}}\" ng-model=\"field.data\" required></textarea>                                            <textarea rows=\"3\" id=\"wt-" + modelName + "-{{ field.name }}\" ng-if=\"!field.required\" class=\"form-control\" type=\"text\" name=\"{{field.name}}\" ng-model=\"field.data\"></textarea>                                            <p class=\"help-block\">{{ field.description }}</p>                                        </div>                                        <div class=\"col-sm-10\" ng-if=\"field.disabled\">                                            <textarea rows=\"3\" id=\"wt-" + modelName + "-{{ field.name }}\" class=\"form-control\" type=\"text\" name=\"{{field.name}}\" ng-model=\"field.data\" disabled></textarea>                                            <p class=\"help-block\">{{ field.description }}</p>                                        </div>                                    </div>                                    <div class=\"form-group\" ng-if=\"field.type == 'SelectField'\">                                        <label for=\"wt-" + modelName + "-{{ field.name }}\" class=\"col-sm-2 control-label\">{{ field.label }}:</label>                                        <div class=\"col-sm-10\" ng-if=\"!field.disabled\">                                            <select id=\"wt-" + modelName + "-{{ field.name }}\" class=\"form-control\" name=\"{{field.name}}\" ng-model=\"field.data\" required>                                                <option ng-selected=\"field.data == v.value\" ng-repeat=\"v in field.choices\" value=\"{{v.value}}\">                                                    {{v.label}}                                                </option>                                            </select>                                            <p class=\"help-block\">{{ field.description }}</p>                                        </div>                                        <div class=\"col-sm-10\" ng-if=\"field.disabled\">                                            <select id=\"wt-" + modelName + "-{{ field.name }}\" class=\"form-control\" name=\"{{field.name}}\" ng-model=\"field.data\" disabled>                                                <option ng-selected=\"field.data == v.value\" ng-repeat=\"v in field.choices\" value=\"{{v.value}}\">                                                    {{v.label}}                                                </option>                                            </select>                                            <p class=\"help-block\">{{ field.description }}</p>                                        </div>                                    </div>                                                                </div>                            <div class=\"form-group\">                                <div class=\"col-sm-offset-2 col-sm-10\">                                    <button type=\"submit\" class=\"btn btn-primary\">                                        保存                                    </button>                                </div>                            </div>                        </form>                    ";
          formEl = $(tpl);
          formEl.appendTo(el);
          return $compile(formEl[0])(scope);
        };
      }
    ]);
  });

}).call(this);
